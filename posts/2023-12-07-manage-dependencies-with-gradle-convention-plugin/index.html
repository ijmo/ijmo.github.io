<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Jmim: Gradle ë©€í‹° í”„ë¡œì íŠ¸ì—ì„œ ì»¨ë²¤ì…˜ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì˜ì¡´ì„± ê´€ë¦¬</title>
    <link rel="canonical" href="https://ijmo.github.io/posts/2023-12-07-manage-dependencies-with-gradle-convention-plugin/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">
    <link rel="icon" href="/img/favicon.ico">
    <link href="/css/screen.css" rel="stylesheet" type="text/css" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143606102-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-143606102-1');
    </script>
</head>
<body>


<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">ğŸŒµ Jmim</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li ><a href="/">Home</a></li>
                <li
                ><a href="/archives/">Archives</a></li>
                
                <li
                >
                <a href="/pages/about/">About</a>
                </li>
                
                <li><a href="/feed.xml">RSS</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                        More <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        

                        
                        <li class="divider"></li>
                        <li class="dropdown-header">Recent Posts</li>
                        
                        <li><a href="/posts/2023-12-07-manage-dependencies-with-gradle-convention-plugin/">Gradle ë©€í‹° í”„ë¡œì íŠ¸ì—ì„œ ì»¨ë²¤ì…˜ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì˜ì¡´ì„± ê´€ë¦¬</a></li>
                        
                        <li><a href="/posts/2023-11-19-gradle-8.4-multiproject/">Gradle 8.4 ë©€í‹° í”„ë¡œì íŠ¸</a></li>
                        
                        <li><a href="/posts/2019-07-04-solving-problems-the-clojure-way/">í•¨ìˆ˜í˜•ìœ¼ë¡œ ë¬¸ì œ í•´ê²°í•˜ê¸° (ìŠ¤í¬ë¦°ìƒ·)</a></li>
                        
                        

                        
                        <li class="divider"></li>
                        <li class="dropdown-header">Tags</li>
                        
                        <li><a href="/tags/gradle%20plugin/">gradle plugin</a></li>
                        
                        <li><a href="/tags/multi-project/">multi-project</a></li>
                        
                        <li><a href="/tags/Refactoring/">Refactoring</a></li>
                        
                        <li><a href="/tags/Data-driven/">Data-driven</a></li>
                        
                        <li><a href="/tags/convention%20plugin/">convention plugin</a></li>
                        
                        <li><a href="/tags/dependency/">dependency</a></li>
                        
                        <li><a href="/tags/Clojure/">Clojure</a></li>
                        
                        <li><a href="/tags/gradle/">gradle</a></li>
                        
                        <li><a href="/tags/gradle-8.4/">gradle-8.4</a></li>
                        
                        <li><a href="/tags/Functional/">Functional</a></li>
                        
                        
                    </ul>
                </li>
            </ul>
        </div><!--/.nav-collapse -->
    </div><!--/.container-fluid -->
</nav>

<button onclick="scrollToTop()" id="btn-top" title="Go to top">Top</button>

<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div id="content">
                
<div id="post">
    <div class="post-header">
    <div id="post-meta" class="row">
        <div class="col-lg-6">December 7, 2023</div>
        
    </div>
    <h2>Gradle ë©€í‹° í”„ë¡œì íŠ¸ì—ì„œ ì»¨ë²¤ì…˜ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì˜ì¡´ì„± ê´€ë¦¬</h2>
</div>
<div>
    
    <div class="paragraph"><p><br /></p></div><div class="sect2"><h3 id="_multi_project_structure">Multi-project Structure</h3><div class="paragraph"><p>ë¹ ë¥¸ ì´í•´ë¥¼ ìœ„í•´ ì•„ë˜ì²˜ëŸ¼ êµ¬ì„±í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.</p></div><div class="paragraph"><p>ì˜ˆì œ ì†ŒìŠ¤ëŠ” <a href="https://github.com/ijmo/gradle-multiprojects/blob/main/multiproject-with-convention-plugin">Github</a>ì— ì˜¬ë ¤ë‘ì—ˆìŠµë‹ˆë‹¤.</p></div><div class="listingblock"><div class="content"><pre>â”œâ”€â”€ gradle
â”‚   â”œâ”€â”€ wrapper
â”‚   â”‚   â”œâ”€â”€ gradle-wrapper.jar
â”‚   â”‚   â””â”€â”€ gradle-wrapper.properties
â”‚   â””â”€â”€ libs.versions.toml   // 1. ë²„ì „ ì¹´íƒˆë¡œê·¸
â”‚
â”œâ”€â”€ build-logic              // 2. ë¹Œë“œ í”ŒëŸ¬ê·¸ì¸ì„ ìœ„í•œ í”„ë¡œì íŠ¸
â”‚   â”œâ”€â”€ src
â”‚   â”‚   â””â”€â”€ main
â”‚   â”‚       â””â”€â”€ kotlin
â”‚   â”‚           â”œâ”€â”€ io.github.ijmo.kotlin-application-conventions.gradle.kts
â”‚   â”‚           â”œâ”€â”€ io.github.ijmo.kotlin-common-conventions.gradle.kts
â”‚   â”‚           â””â”€â”€ io.github.ijmo.kotlin-library-conventions.gradle.kts
â”‚   â”œâ”€â”€ build.gradle.kts
â”‚   â””â”€â”€ settings.gradle.kts
â”‚
â”œâ”€â”€ app                      // 3. ì„œë¸Œ í”„ë¡œì íŠ¸
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ library                  // 3. ì„œë¸Œ í”„ë¡œì íŠ¸
â”‚   â””â”€â”€ build.gradle.kts
â”‚
â”œâ”€â”€ gradlew
â”œâ”€â”€ gradlew.bat
â””â”€â”€ settings.gradle.kts      // 4. ë¹Œë“œ í”ŒëŸ¬ê·¸ì¸ì„ include</pre></div></div><div class="paragraph"><p><br /></p></div><div class="sect3"><h4 id="_1_ë²„ì „_ì¹´íƒˆë¡œê·¸">1. ë²„ì „ ì¹´íƒˆë¡œê·¸</h4><div class="listingblock"><div class="content"><pre>â”œâ”€â”€ gradle
â”‚   â”œâ”€â”€ wrapper
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ libs.versions.toml
...</pre></div></div><div class="ulist"><ul><li><p>ë²„ì „ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ <code>libs.versions.toml</code> ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.</p></li><li><p>ì˜ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡ë„ ì—¬ê¸°ì„œ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆìœ¼ë‚˜, ì €ëŠ” ë²„ì „ë§Œ ë„£ì–´ë³´ì•˜ìŠµë‹ˆë‹¤.</p></li></ul></div><div class="listingblock"><div class="title">gradle/libs.versions.toml</div><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">[versions]
kotlin = "1.9.20"
springBoot = "3.2.0"
springCloud = "2023.0.0"</code></pre></div></div><div class="paragraph"><p><br /></p></div></div><div class="sect3"><h4 id="_2_ë¹Œë“œ_í”ŒëŸ¬ê·¸ì¸ì„_ìœ„í•œ_í”„ë¡œì íŠ¸">2. ë¹Œë“œ í”ŒëŸ¬ê·¸ì¸ì„ ìœ„í•œ í”„ë¡œì íŠ¸</h4><div class="listingblock"><div class="content"><pre>â”œâ”€â”€ build-logic
â”‚   â”œâ”€â”€ src
â”‚   â”‚   â””â”€â”€ main
â”‚   â”‚       â””â”€â”€ kotlin
â”‚   â”‚           â”œâ”€â”€ io.github.ijmo.kotlin-application-conventions.gradle.kts
â”‚   â”‚           â”œâ”€â”€ io.github.ijmo.kotlin-common-conventions.gradle.kts
â”‚   â”‚           â””â”€â”€ io.github.ijmo.kotlin-library-conventions.gradle.kts
â”‚   â”œâ”€â”€ build.gradle.kts
â”‚   â””â”€â”€ settings.gradle.kts
...</pre></div></div><div class="paragraph"><p><br /></p></div><div class="ulist"><ul><li><p><code>libs.versions.toml</code> ì„ ì½ì–´ì˜¤ë„ë¡ í•©ë‹ˆë‹¤. settings íŒŒì¼ ê¸°ì¤€ìœ¼ë¡œ ìƒëŒ€ê²½ë¡œë¥¼ ì…ë ¥í–ˆìŠµë‹ˆë‹¤.</p></li></ul></div><div class="listingblock"><div class="title">build-logic/settings.gradle.kts</div><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">dependencyResolutionManagement {
    versionCatalogs {
        create("libs") {
            from(files("../gradle/libs.versions.toml"))
        }
    }
}

rootProject.name = "my-example-app-build-logic"</code></pre></div></div><div class="paragraph"><p><br /></p></div><div class="ulist"><ul><li><p>ë§Œë“¤ë ¤ëŠ” í”ŒëŸ¬ê·¸ì¸ì—ì„œ ì™¸ë¶€ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. Spring Bootì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ <code>gradlePluginPortal</code> ì— ìˆëŠ” <code>spring-boot-gradle-plugin</code> ì„ ì¶”ê°€í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.</p></li><li><p><code>libs.versions.toml</code> ì—ì„œ ì§€ì •í•œ ë²„ì „ì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.</p></li></ul></div><div class="listingblock"><div class="title">build-logic/build.gradle.kts</div><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">plugins {
    `kotlin-dsl`
}

repositories {
    gradlePluginPortal()
}

val versionCatalog = extensions.getByType&lt;VersionCatalogsExtension&gt;().named("libs")

dependencies {
    implementation("org.jetbrains.kotlin:kotlin-gradle-plugin:${versionCatalog.findVersion("kotlin").get()}")
    implementation("org.springframework.boot:spring-boot-gradle-plugin:${versionCatalog.findVersion("springBoot").get()}")
}</code></pre></div></div><div class="paragraph"><p><br /></p></div><div class="ulist"><ul><li><p><code>gradle init</code> ì„ í†µí•´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë©´ 3ê°€ì§€ ëª¨ë¸ì˜ í”ŒëŸ¬ê·¸ì¸ì„ ìŠ¤ìºí´ë”© í•´ì¤ë‹ˆë‹¤. íŒŒì¼ ì´ë¦„ì—ì„œë„ ì•Œ ìˆ˜ ìˆë“¯ì´ í”„ë¡œì íŠ¸ ê³µí†µìœ¼ë¡œ ì“°ì´ëŠ” 'common', ì•±ì—ì„œ ì“°ê¸° ìœ„í•œ 'application', ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì“°ê¸° ìœ„í•œ 'library' ë¡œ ë‚˜ëˆ„ì–´ì§„ êµ¬ì¡°ì…ë‹ˆë‹¤.</p></li><li><p>ì„œë¸Œ í”„ë¡œì íŠ¸ì˜ ìœ í˜•ì´ í•œ ì¢…ë¥˜(ì•± ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬)ì´ê±°ë‚˜ ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ê°™ì€ ì˜ì¡´ì„±ì„ ê°€ì§„ë‹¤ë©´ êµ³ì´ ì—¬ëŸ¬ íŒŒì¼ë¡œ ë‚˜ëˆŒ í•„ìš”ì—†ì´ í•œ íŒŒì¼ì— ë‹¤ ì§‘ì–´ë„£ìœ¼ë©´ ë˜ê² ìŠµë‹ˆë‹¤.</p></li><li><p>íŒŒì¼ì´ë¦„ì€ ì œ ê¸°ì¤€ìœ¼ë¡œ ì§€ì—ˆìœ¼ë‹ˆ ì ì ˆí•˜ê²Œ ë°”ê¿”ì„œ ì“°ì‹œë©´ ë˜ê² ìŠµë‹ˆë‹¤.</p></li></ul></div><div class="listingblock"><div class="title">build-logic/src/main/kotlin/io.github.ijmo.kotlin-common-conventions.gradle.kts</div><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">plugins {
    id("org.jetbrains.kotlin.jvm")
}

repositories {
    mavenCentral()
}

dependencies {
    constraints {
        implementation("org.apache.commons:commons-text:1.10.0")
    }
}

testing {
    suites {
        val test by getting(JvmTestSuite::class) {
            useJUnitJupiter("5.9.3")
        }
    }
}

java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(17))
    }
}</code></pre></div></div><div class="paragraph"><p><br /></p></div><div class="ulist"><ul><li><p>ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì˜ì¡´ì„±ì„ ì¶”ê°€í–ˆì—ˆë˜ Spring Boot í”ŒëŸ¬ê·¸ì¸ì„ <code>plugins {}</code> ì•ˆì—ì„œ <code>apply</code> í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p></li><li><p>Spring BOM(Bill of Material)ì„ ì ìš©í•˜ê¸° ìœ„í•´ <code>implementation(platform())</code> ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</p></li><li><p>ì—¬ê¸°ì„œ <code>dependencies {}</code> ì— ì¶”ê°€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” <code>resolve</code> ë˜ì–´ classpathì— ì¶”ê°€ë©ë‹ˆë‹¤. ì„œë¸Œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ <code>dependencies {}</code> ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.</p></li></ul></div><div class="listingblock"><div class="title">build-logic/src/main/kotlin/io.github.ijmo.kotlin-application-conventions.gradle.kts</div><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">plugins {
    id("io.github.ijmo.kotlin-common-conventions")
    id("org.springframework.boot")
    application
}

val versionCatalog: VersionCatalog = extensions.getByType&lt;VersionCatalogsExtension&gt;().named("libs")
val springBootVersion = versionCatalog.findVersion("springBoot").get()
val springCloudVersion = versionCatalog.findVersion("springCloud").get()

dependencies {
    implementation(platform("org.springframework.boot:spring-boot-dependencies:$springBootVersion"))
    implementation(platform("org.springframework.cloud:spring-cloud-dependencies:$springCloudVersion"))

    implementation("com.fasterxml.jackson.module:jackson-module-kotlin")
    implementation("io.projectreactor.kotlin:reactor-kotlin-extensions:1.2.2")
    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-reactor:1.7.3")

    implementation("org.springframework.boot:spring-boot-starter-actuator")
    implementation("org.springframework.boot:spring-boot-starter-webflux")

    testImplementation("io.projectreactor:reactor-test:3.6.0")
}</code></pre></div></div><div class="paragraph"><p><br /></p></div><div class="ulist"><ul><li><p>ë¼ì´ë¸ŒëŸ¬ë¦¬ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ í”ŒëŸ¬ê·¸ì¸ ì…ë‹ˆë‹¤.</p></li><li><p>í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ <code>dependencies {}</code> ì— ì¶”ê°€í•´ì£¼ì„¸ìš”.</p></li></ul></div><div class="listingblock"><div class="title">build-logic/src/main/kotlin/io.github.ijmo.kotlin-library-conventions.gradle.kts</div><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">plugins {
    id("io.github.ijmo.kotlin-common-conventions")
    `java-library`
}</code></pre></div></div><div class="paragraph"><p><br /></p></div></div><div class="sect3"><h4 id="_3_ë¹Œë“œ_í”ŒëŸ¬ê·¸ì¸ì„_include">3. ë¹Œë“œ í”ŒëŸ¬ê·¸ì¸ì„ include</h4><div class="listingblock"><div class="content"><pre>â”œâ”€â”€ settings.gradle.kts
...</pre></div></div><div class="ulist"><ul><li><p>ë§Œë“  í”ŒëŸ¬ê·¸ì¸ì„ <code>pluginManagement {}</code> ì„ í†µí•´ í¬í•¨ì‹œì¼œ ì¤ë‹ˆë‹¤.</p></li><li><p>ì„œë¸Œ í”„ë¡œì íŠ¸ë„ <code>include()</code> í•´ì¤ë‹ˆë‹¤.</p></li></ul></div><div class="listingblock"><div class="title">settings.gradle.kts</div><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">pluginManagement {
    includeBuild("build-logic")
}

rootProject.name = "my-example-app"

include("app", "library")</code></pre></div></div><div class="paragraph"><p><br /></p></div></div><div class="sect3"><h4 id="_4_ì„œë¸Œ_í”„ë¡œì íŠ¸">4. ì„œë¸Œ í”„ë¡œì íŠ¸</h4><div class="listingblock"><div class="content"><pre>â”œâ”€â”€ app
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ library
â”‚   â””â”€â”€ build.gradle.kts
...</pre></div></div><div class="ulist"><ul><li><p>classpathì— ì¶”ê°€ëœ íŒ¨í‚¤ì§€(ë¼ì´ë¸ŒëŸ¬ë¦¬) ì¤‘ì— ê° í”„ë¡œì íŠ¸ì— ì‚¬ìš©í•  íŒ¨í‚¤ì§€ë¥¼ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.</p></li></ul></div><div class="listingblock"><div class="title">app/build.gradle.kts</div><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">plugins {
    id("io.github.ijmo.kotlin-application-conventions")
}

dependencies {
    implementation("org.springframework.boot:spring-boot-starter-actuator")
    implementation("org.springframework.boot:spring-boot-starter-webflux")
    testImplementation("io.projectreactor:reactor-test")

    implementation(project(":library"))
}</code></pre></div></div><div class="paragraph"><p><br /></p></div></div></div>
</div>

<div id="post-tags">
    <b>Tags: </b>
    
    <a href="/tags/gradle%20plugin/">gradle plugin</a>&nbsp;
    
    <a href="/tags/multi-project/">multi-project</a>&nbsp;
    
    <a href="/tags/convention%20plugin/">convention plugin</a>&nbsp;
    
    <a href="/tags/dependency/">dependency</a>&nbsp;
    
</div>


    <div id="prev-next" data-href="hello">
        
        
        <a class="right" href="/posts/2023-11-19-gradle-8.4-multiproject/">Gradle 8.4 ë©€í‹° í”„ë¡œì íŠ¸ &raquo;</a>
        
    </div>

    

    <script src="https://utteranc.es/client.js"
        repo="ijmo/ijmo.github.io"
        issue-term="/posts/2023-12-07-manage-dependencies-with-gradle-convention-plugin/"
        theme="github-light"
        crossorigin="anonymous"
        async>
    </script>

</div>

            </div>
        </div>
    </div>
    <footer>Copyleft &copy; 2023 Jinmo Im
        <p style="text-align: center;">Powered by <a href="http://cryogenweb.org">Cryogen</a></p></footer>
</div>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="/js/highlight.pack.js" type="application/javascript"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
    if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
        document.getElementById("btn-top").style.display = "block";
    } else {
        document.getElementById("btn-top").style.display = "none";
    }
}

function scrollToTop() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
}
</script>
</body>
</html>
